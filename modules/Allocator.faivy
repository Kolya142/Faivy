forward panic :: (msg: usize) -> void;

extern malloc libc_alloc :: (size: usize) -> usize;
extern free libc_free :: (buf: usize) -> void;

global Alloc :: (size: usize) -> usize {
    local result :: usize = libc_alloc(size);
    if result == 0 {
        panic("Alloc failed: Buy more RAM");
    }
    return(result);
}

global Free :: (buf: usize) -> void {
    if buf == 0 {
        panic("Free failed: Tried to free NULL ptr");
    }
    libc_free(buf);
}
